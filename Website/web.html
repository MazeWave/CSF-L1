<!DOCTYPE html>
<html lang="en">

<!--Importation de Bootstrap et configuration initale (le title est un placeholder, sujet à changer dans le futur selon la page actuelle)-->
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type=text/css href="{{ url_for('static', filename='theme.css') }}">
    <link rel="stylesheet" type=text/css href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <title>Valuence - {{ page }}</title>
    <link rel="icon" href="logo.svg">
</head>

<body>
    <!--Header (les liens sont des placeholders, sujet à changer dans le futur)-->
    <header>
        <div class="col-sm-4"><a href="http://localhost:3000/"><h1>Valuence</h1></a></div>
        <div class="col-sm-4"><a href="http://localhost:3000/stats"><h1>Aujourd'hui</h1></a></div>
        <div class="col-sm-4"><a href="http://localhost:3000/logs"><h1>Logs</h1></a></div>
        <div class="col-sm-4">
            <button id="bs" onclick="toggleTheme()" style="border: 0px; padding-top: 0.5em;"><h1><i id="icon" class="fa-solid fa-sun"></i></h1></button>
        </div>
        <script>
            // Initialisation du theme
            function setTheme(themeName) {
                localStorage.setItem('theme', themeName);
                document.documentElement.className = themeName;
            }
    
            // Interrupteur
            function toggleTheme() {
                if (localStorage.getItem('theme') === 'dark') {
                    setTheme('light');
                    document.getElementById("icon").className = "fa-solid fa-moon"
                } else {
                    setTheme('dark');
                    document.getElementById("icon").className = "fa-solid fa-sun"
                }
            }
    
            // Selection du theme precedent si on quitte la page
            (function () {
                if (localStorage.getItem('theme') === 'dark') {
                    setTheme('dark');
                    document.getElementById("icon").className = "fa-solid fa-sun"
                } else {
                    setTheme('light');
                    document.getElementById("icon").className = "fa-solid fa-moon"
                }
            })();
        </script>
    </header>

    <div>
        <div class="container" style="margin-top: 10em; margin-top: 10em;left: 7%;position: relative; width:85%">
            <div class="col-sm-1">
                {% if page == 'Home'  %}
                    <h1>Valuence, c'est quoi ?</h1>
                    <h3>C'est des statisitques diverses sur l'affluence dans la campus valrose. Tout les informations sont récoltées en badgeant sa carte étudiant ou grâce à un capteur de passage.</h3>
                    <h1>Projet de qui ?</h1>
                    <h3>C'est un projet réalisé par Largange Ryan, Dalmasso Louis, Nathan Théo pour l'UE "Communication Sans Fil".</h3>
                    <h1>Structure du projet :</h1>
                <ul>
                    <h3>• Back-end : Largange Ryan</h3>
                    <h3>• Front-end : Dalmasso Louis</h3>
                    <h3>• Algorithmie : Nathan Théo</h3>
                    <h3>• Base de donnée et herbergement : Dalmasso Louis</h3>
                    <h3>• Hardware : Largange Ryan et Nathan Théo</h3>
                </ul>
                {% elif page == 'Stats' %}
                    <h1>Aujourd'hui</h1>
                    <h2>{{ total }} entrées ont été détectées</h2>
                {% elif page == 'Logs' %}
                    <h1>Logs</h1>
                    <ul>
                        {% for line in logdata %}
                        <p class="logline">{{ line }}</p>
                        {% endfor %}
                    </ul>
                {% else %}
                    <h1>Page introuvable</h1>
                {% endif %}
            </div>
            
        </div>
    </div>

    <footer>
        <div class="container" style="left: 30%; position: absolute;"> <!-- 15% avec ToS et Cnf -->
            <div class="col-sm-4"><a href="http://localhost:3000/"><h3>Valuence</h3></a></div>
            <!-- <div class="col-sm-4"><a href="https://Valuence/ToS"><h3>Conditions d'utilisation</h3></a></div> -->
            <!-- <div class="col-sm-4"><a href="https://Valuence/Confidential"><h3>Politique de Confidentialité</h3></a></div> -->
            <div class="col-sm-4"><a href="https://github.com/MazeWave/CSF-L1" target="_blank"><h3>Source github</h3></a></div>
            <div class="col-sm-4"><a href="louis.dalmasso@etu.unice.fr"><h3>Contact</h3></a></div>
            <div class="col-sm-4"><a href="https://discord.gg/8XTy94rYRs" target="_blank"><h3>Discord</h3></a></div>
        </div>
    </footer>
</body>

</html>
